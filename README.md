# Проект API для YaMDb
____

## О проекте
____

Проект YaMDb собирает отзывы (Review) пользователей на произведения (Titles). Произведения делятся на категории: *«Книги»*, *«Фильмы»*, *«Музыка»*. Список категорий (Category) может быть расширен администратором (например, можно добавить категорию *«изобразительное искусство»* или *«Ювелирка»*).

Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории *«Книги»* могут быть произведения *«Винни-Пух и все-все-все»* и *«Марсианские хроники»*, а в категории *«Музыка»* — песня *«Давеча»* группы *«Насекомые»* и вторая сюита Баха.

Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, *«Сказка»*, *«Рок»* или *«Артхаус»*). Новые жанры может создавать только администратор.

Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы (Review) и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.

## Проект также разделен по пользовательским ролям:
____

* Аноним — может просматривать описания произведений, читать отзывы и комментарии.
* Аутентифицированный пользователь (user) — может читать всё, как и Аноним, может публиковать отзывы и ставить оценки произведениям (фильмам/книгам/песенкам), может комментировать отзывы; может редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Эта роль присваивается по умолчанию каждому новому пользователю.
* Модератор (moderator) — те же права, что и у Аутентифицированного пользователя, плюс право удалять и редактировать любые отзывы и комментарии.
* Администратор (admin) — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
* Суперюзер Django — обладает правами администратора (admin).

## используемые технологии
____

* Django REST Framework
* Simple JWT - работа с JWT-токеном
* git

Клонировать репозиторий и перейти в него.
Подготовить конфиги, скопировав шаблон из файла .env.template
cp .env.template .env
В командной строке создать и запустить docker-compose:
sudo docker-compose up -d --build 
Выполнить миграции:
sudo docker-compose exec web python manage.py migrate --noinput
Создать суперпользователя:
sudo docker-compose exec web python manage.py createsuperuser
Собрать статику:
sudo docker-compose exec web python manage.py collectstatic --no-input 
Загрузить данные в базу:
sudo docker-compose exec web python manage.py loaddata fixtures.json
Заполнить .env файл:

DB_ENGINE= # база данных
DB_NAME= # имя базы данных
POSTGRES_USER= # логин для подключения к базе данных
POSTGRES_PASSWORD= # пароль для подключения к БД 
DB_HOST= # название сервиса (контейнера)
DB_PORT= # порт для подключения к БД
EMAIL_HOST_USER= # почта для отправки сообщения
EMAIL_HOST_PASSWORD= # пароль от почты
SECRET_KEY= # секретный ключ

![example workflow](https://github.com/NK-28/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)
http://nikkr.gq/